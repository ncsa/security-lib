<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_92) on Wed Oct 24 11:48:32 CDT 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>edu.uiuc.ncsa.security.servlet.mail (NCSA security utilities for servlets 4.1.0 API)</title>
<meta name="date" content="2018-10-24">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="edu.uiuc.ncsa.security.servlet.mail (NCSA security utilities for servlets 4.1.0 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../edu/uiuc/ncsa/security/servlet/package-summary.html">Prev&nbsp;Package</a></li>
<li>Next&nbsp;Package</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?edu/uiuc/ncsa/security/servlet/mail/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;edu.uiuc.ncsa.security.servlet.mail</h1>
<div class="docSummary">
<div class="block">This package is used for adding email notification support to Tomcat servlets.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../edu/uiuc/ncsa/security/servlet/mail/ServletMailUtil.html" title="class in edu.uiuc.ncsa.security.servlet.mail">ServletMailUtil</a></td>
<td class="colLast">
<div class="block">Created by Jeff Gaynor<br>
 on 6/25/13 at  11:00 AM</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../edu/uiuc/ncsa/security/servlet/mail/ServletMailUtilProvider.html" title="class in edu.uiuc.ncsa.security.servlet.mail">ServletMailUtilProvider</a></td>
<td class="colLast">
<div class="block">Created by Jeff Gaynor<br>
 on 6/25/13 at  11:01 AM</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package edu.uiuc.ncsa.security.servlet.mail Description">Package edu.uiuc.ncsa.security.servlet.mail Description</h2>
<div class="block">This package is used for adding email notification support to Tomcat servlets.
Since Tomcat has a global facility for sending email, it is necessary to utilize that
rather than just rolling our own (or there will be runtime issues). This is a wrapper
for Java Mail.


<H3>Configuring Tomcat</H3>
<UL>
    <LI>You <b>must</b> download a copy of the <a href="http://www.oracle.com/technetwork/java/javamail/index.html">JavaMail</a>
        jar and drop it into the $CATALINA_HOME/lib directory.
    </LI>
    <LI>You must add the following line to $CATALINA_HOME/context.xml
        <PRE>
&lt;Resource name="mail/Session" type="javax.mail.Session" auth="Container"/&gt;
</PRE>
        Optionally, you made add the switch
        <code>mail.debug="true"</code> to this if you want to see lots of information about sending messages in the log
        file. You can also just put this switch in your properties file too (no quotes).
    </LI>

    <LI>
        You must edit and setup your template files. This ensures that you have the ability to get the right
        message as needed.
    <LI>
        Finally, in your deployment descriptor ("web.xml") file you must add the following section
        (right before the final closing tag is fine):
        <PRE>
   &lt;resource-ref&gt;
        &lt;description&gt;
            Resource reference to a factory for javax.mail.Session
            instances that may be used for sending electronic mail
            messages, preconfigured to connect to the appropriate
            SMTP server.
        &lt;/description&gt;
        &lt;res-ref-name>mail/Session&lt;/res-ref-name&gt;
        &lt;res-type>javax.mail.Session&lt;/res-type&gt;
        &lt;res-auth>Container&lt;/res-auth&gt;
   &lt;/resource-ref&gt;
        </PRE>
    </LI>
</UL>
<p>One issue is that Tomcat uses multiple class loaders, so that if you include Java Mail in your
    webapp you will ge very strange ClassCastExceptions, <i>e.g.</i>
    <code>javax.mail.Session cannot be cast to javax.mail.Session</code><br>
    This is because classes themselves exist as objects different class loaders
    have different instances of them, hence they are not identical so cannot be cast
    to each other. Rather than have a massive kludge to let you add the mail jar to your
    webapp, we'll require that you use Tomcat's system for this.</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../edu/uiuc/ncsa/security/servlet/package-summary.html">Prev&nbsp;Package</a></li>
<li>Next&nbsp;Package</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?edu/uiuc/ncsa/security/servlet/mail/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018. All rights reserved.</small></p>
</body>
</html>
